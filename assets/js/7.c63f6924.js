(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{371:function(s,a,n){s.exports=n.p+"assets/img/分库分表示意图.286dd390.png"},372:function(s,a,n){s.exports=n.p+"assets/img/分库分表维度介绍.955e220a.png"},373:function(s,a,n){s.exports=n.p+"assets/img/垂直拆分.59c65140.png"},374:function(s,a,n){s.exports=n.p+"assets/img/水平拆分.f276180d.png"},375:function(s,a,n){s.exports=n.p+"assets/img/mycat.9f6020e6.png"},440:function(s,a,n){"use strict";n.r(a);var t=n(10),e=Object(t.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h3",{attrs:{id:"mysql-中的分库分表"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mysql-中的分库分表"}},[s._v("#")]),s._v(" mysql 中的分库分表")]),s._v(" "),a("h4",{attrs:{id:"_1-概述介绍"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-概述介绍"}},[s._v("#")]),s._v(" 1. 概述介绍")]),s._v(" "),a("div",{staticClass:"language-text line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("1) 为什么要进行分库分表，单数据库存在什么性能问题？\n    A) IO 瓶颈，热点数据太多，数据库缓存不足，产生大量磁盘IO，效率较低；请求数据太多，贷款不够，网络 IO 瓶颈.\n    B) CPU 瓶颈，排序、分组、连接查询、聚合统计等sql语句会耗费大量的CPU资源，请求数量太大，CPU出现瓶颈，影响性能.\n\n\n分库分表的中心思想都是将数据分散存储，使得单一数据库/表变小来缓解单一数据库可能造成的性能问题，从而达到提升数据库性能的目的.\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("p",[a("strong",[s._v("分库分表示意图")]),s._v(" "),a("img",{attrs:{src:n(371),alt:"image"}})]),s._v(" "),a("p",[a("strong",[s._v("维度示意图")]),s._v(" "),a("img",{attrs:{src:n(372),alt:"image"}})]),s._v(" "),a("div",{staticClass:"language-text line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("2) 分库分表的维度之垂直拆分:\n    垂直分库：以表为依据，根据业务将不同的表拆分到不同的库中\n    垂直分表：以字段为依据，根据字段属性将不同的字段拆分到不同的表中\n    \n垂直分库的特点:\n    A) 每个库的表结构都不一样\n    B) 每个库的数据也不一样\n    C) 全量数据是所有库的并集\n\n垂直分表的特点:\n    A) 每个表结构一样\n    B) 每个表数据也不一样，一般通过一列(主键/外键)相互关联\n    C) 全量数据是所有表的并集\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br")])]),a("p",[a("strong",[s._v("垂直拆分示意图")]),s._v(" "),a("img",{attrs:{src:n(373),alt:"image"}})]),s._v(" "),a("div",{staticClass:"language-text line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("3) 分库分表的维度之水平拆分\n    水平分库：以字段为依据，根据一定的策略，将一个库的数据拆分到多个库中\n    水平分表：以字段为依据，根据一定的策略，将一个表中的数据拆分到多个表中\n\n水平分库的特点:\n    A) 每个库的表结构都一样\n    B) 每个库的数据都不一样\n    C) 全量数据是所有库的并集\n\n水平分表的特点:\n    A) 每个表结构都一样\n    B) 每个表数据都不一样\n    C) 全量数据是所有表的并集\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])]),a("p",[a("strong",[s._v("水平拆分示意图")]),s._v(" "),a("img",{attrs:{src:n(374),alt:"image"}})]),s._v(" "),a("div",{staticClass:"language-text line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("4) 分库分表实现技术\n    A) shardingJDBC: 只支持java\n    B) MyCat: 数据库分库分表中间件，不需要调整代码即可实现分库分表，支持多语言\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[a("strong",[s._v("mycat访问示意图")]),s._v(" "),a("img",{attrs:{src:n(375),alt:"image"}})]),s._v(" "),a("div",{staticClass:"language-text line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("MyCat详细介绍:\n    mycat 是一个基于JAVA语言编写的开源的mysql数据库中间件，使用方式和mysql一样.\n\n    app -> mycat -> mysql_server\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("change master to master_host='8.141.175.100',master_user='slave',master_password='123456',master_log_file='mysql-bin.000001',master_log_pos=156;")]),s._v(" "),a("p",[s._v("load data local infile '/root/mysql_test/sql_data/sql_file_1000w/tb_sku1.sql' into table my_test.tb_sku fields terminated by ',' lines terminated by '\\n';")])])}),[],!1,null,null,null);a.default=e.exports}}]);